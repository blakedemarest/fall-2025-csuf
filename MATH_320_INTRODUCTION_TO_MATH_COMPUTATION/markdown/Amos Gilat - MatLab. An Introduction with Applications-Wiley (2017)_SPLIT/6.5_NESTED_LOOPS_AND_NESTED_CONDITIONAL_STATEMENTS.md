200

Chapter 6: Programming in MATLAB

exp(2.000000) = 7.389046

The number of terms used is: 12

12 terms used.

>> expox

Enter x -4

exp(-4.000000) = 0.018307

Calculating exp(â€“4).

The number of terms used is: 18

18 terms used.

>> expox

Enter x 21

More than 30 terms are needed

Trying to calculate exp(21).

6.5 NESTED LOOPS AND NESTED CONDITIONAL
STATEMENTS

Loops  and  conditional  statements  can  be  nested  within  other  loops  or  condi-
tional  statements.  This  means  that  a  loop  and/or  a  conditional  statement  can
start (and end) within another loop or conditional statement. There is no limit
to the number of loops and conditional statements that can be nested. It must
be remembered, however, that each if, case, for, and while statement must
have a corresponding end statement. Figure 6-7 shows the structure of a nested

for k = 1:n

for h = 1:m
........

           ........
........

end

end

A group of
commands.

Nested
loop

Loop

Every time k
increases by 1, the
nested loop exe-
cutes m times. Over-
all, the group of
commands are exe-
cuted n m times.

Figure 6-7: Structure of nested loops.

for-end loop within another for-end loop. In the loops shown in this figure,
if, for example, n = 3 and m = 4, then first k = 1 and the nested loop executes
four times with h = 1, 2, 3, 4. Next k = 2 and the nested loop executes again four
times with h = 1, 2, 3, 4. Finally k = 3 and the nested loop executes again four
times. Every time a nested loop is typed, MATLAB automatically indents the
new loop relative to the outside loop. Nested loops and conditional statements
are demonstrated in the following sample problem.

6.5 Nested Loops and Nested Conditional Statements

201

Sample Problem 6-8: Creating a matrix with a loop

Write a program in a script file that creates an n m matrix with elements that
have the following values. The value of each element in the first row is the num-
ber of the column. The value of each element in the first column is the number
of the row. The rest of the elements each has a value equal to the sum of the ele-
ment above it and the element to the left. When executed, the program asks the
user to enter values for n and m.

Solution

The  program,  shown  below,  has  two  loops  (one  nested)  and  a  nested  if-
elseif-else-end structure. The elements in the matrix are assigned values
row by row. The loop index variable of the first loop, k, is the address of the row,
and the loop index variable of the second loop, h, is the address of the column.

n=input('Enter the number of rows ');

m=input('Enter the number of columns ');

A=[];

for k=1:n

   for h=1:m

      if k==1

Define an empty matrix A.

Start of the first for-end loop.
Start of the second for-end loop.
Start of the conditional statement.

          A(k,h)=h;

Assign values to the elements of the first row.

      elseif h==1

          A(k,h)=k;

Assign values to the elements of the first column.

      else

          A(k,h)=A(k,h-1)+A(k-1,h);

Assign values to other elements.
end of the if statement.

end of the nested for-end loop.

end of the first for-end loop.

      end

   end

end

A

The program is executed in the Command Window to create a

 matrix.

>> Chap6_exp8

Enter the number of rows 4

Enter the number of columns 5

