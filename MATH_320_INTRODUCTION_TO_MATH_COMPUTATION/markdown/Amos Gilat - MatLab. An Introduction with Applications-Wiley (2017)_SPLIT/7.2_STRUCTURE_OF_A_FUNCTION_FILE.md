7.2 Structure of a Function File

223

The first line in a function file must
be the function definition line.

Figure 7-1: The Editor/Debugger Window.

window that opens is empty, without any pre-typed lines. In general, the Editor/
Debugger Window can be used for writing a script file or a function file.

7.2 STRUCTURE OF A FUNCTION FILE

The  structure  of  a  typical  complete  function  file  is  shown  in  Figure  7-2.  This
particular function calculates the monthly payment and the total payment of a
loan. The inputs to the function are the amount of the loan, the annual interest
rate, and the duration of the loan (number of years). The output from the func-
tion is the monthly payment and the total payment.

Function definition line.

The H1 line.

Help text.

Function body
(computer program).

Assignment of values to output arguments.

Figure 7-2: Structure of a typical function file.

224

Chapter 7: User-Defined Functions and Function Files

The various parts of the function file are described in detail in the following sec-
tions.

7.2.1 Function Definition Line

The first executable line in a function file must be the function definition line.
Otherwise the file is considered a script file. The function definition line:

• Defines the file as a function file

• Defines the name of the function

• Defines the number and order of the input and output arguments

The form of the function definition line is:

function [output arguments] = function_name(input arguments)

The word “function”
must be the first word,
and must be typed in
lowercase letters.

A list of output
arguments typed
inside brackets.

The name of
the function.

A list of input
arguments typed
inside parentheses.

The  word  “function,”  typed in  lowercase  letters,  must  be  the  first  word  in
the  function  definition  line.  On  the  screen  the  word  function  appears  in  blue.
The function name is typed following the equal sign. The name can be made up
of  letters,  digits,  and  the  underscore  character  (the  name  cannot  include  a
space).  The  rules  for  the  name  are  the  same  as  the  rules  for  naming  variables
described in Section 1.6.2. It is good practice to avoid names of built-in func-
tions and names of variables already defined by the user or predefined by MAT-
LAB.

7.2.2 Input and Output Arguments

The input and output arguments are used to transfer data into and out of the
function. The input arguments are listed inside parentheses following the func-
tion name. Usually, there is at least one input argument, although it is possible
to have a function that has no input arguments. If there are more than one, the
input arguments are separated with commas. The computer code that performs
the  calculations  within  the  function  file  is  written  in  terms  of  the  input  argu-
ments  and  assumes  that  the  arguments  have  assigned  numerical  values.  This
means  that  the  mathematical  expressions  in  the  function  file  must  be  written
according to the dimensions of the arguments, since the arguments can be sca-
lars, vectors, or arrays. In the example shown in Figure 7-2 there are three input
arguments (amount,rate,years), and in the mathematical expressions they
are assumed to be scalars. The actual values of the input arguments are assigned

7.2 Structure of a Function File

225

when the function is used (called). Similarly, if the input arguments are vectors
or arrays, the mathematical expressions in the function body must be written to
follow linear algebra or element-by-element calculations.

The output arguments, which are listed inside brackets on the left side of the
assignment operator in the function definition line, transfer the output from the
function file. Function files can have zero, one, or several output arguments. If
there are more than one, the output arguments are separated with commas. If
there  is  only  one  output  argument,  it  can  be  typed  without  brackets.  For  the
function file to work, the output arguments must be assigned values in the
computer program that is in the function body. In the example in Figure 7-2
there  are  two  output  arguments,  mpay  and  tpay.  When  a  function  does  not
have  an  output  argument,  the  assignment  operator  in  the  function  definition
line can be omitted. A function without an output argument can, for example,
generate a plot or write data to a file.

It is also possible to transfer strings into a function file. This is done by typ-
ing  the  string  as  part  of  the  input  variables  (text  enclosed  in  single  quotes).
Strings can be used to transfer names of other functions into the function file.

Usually,  all  the  input  to,  and  the  output  from,  a  function  file  transferred
through the input and output arguments. In addition, however, all the input and
output  features  of  script  files  are  valid  and  can  be  used  in  function  files.  This
means that any variable that is assigned a value in the code of the function file
will be displayed on the screen unless a semicolon is typed at the end of the com-
mand. In addition, the input command can be used to input data interactively,
and the disp, fprintf, and plot commands can be used to display informa-
tion on the screen, save to a file, or plot figures just as in a script file. The follow-
ing  are  examples  of  function  definition  lines  with  different  combinations  of
input and output arguments.

Function definition line

Comments

function[mpay,tpay]= loan(amount,rate,years) Three  input  arguments,  two

function [A] = RectArea(a,b)

function A = RectArea(a,b)

function [V, S] = SphereVolArea(r)

function trajectory(v,h,g)

output arguments.

Two input arguments, one out-
put argument.

Same  as  above;  one  output
argument  can  be  typed  with-
out the brackets.

One input variable, two output
variables.

input  arguments,  no

Three
output arguments.

226

Chapter 7: User-Defined Functions and Function Files

7.2.3 The H1 Line and Help Text Lines

The H1 line and help text lines are comment lines (lines that begin with the per-
cent, %, sign) following the function definition line. They are optional but are
frequently used to provide information  about the function. The H1 line is the
first comment line and usually contains the name and a short definition of the
function.  When  a  user  types  (in  the  Command  Window)  lookfor  a_word,
MATLAB  searches  for  a_word  in  the  H1  lines  of  all  the  functions,  and  if  a
match is found, the H1 line that contains the match is displayed.

 The help text lines are comment lines that follow the H1 line. These lines
contain an explanation of the function and any instructions related to the input
and output arguments. The comment lines that are typed between the function
definition line and the first non-comment line (the H1 line and the help text) are
displayed when the user types help function_name in the Command Win-
dow.  This  is  true  for  MATLAB  built-in  functions  as  well  as  the  user-defined
functions. For example, for the function loan in Figure 7-2, if help  loan is
typed in the Command Window (make sure the current directory or the search
path includes the directory where the file is saved), the display on the screen is:

>> help loan

loan calculates monthly and total payment of loan.

Input arguments:

amount=loan amount in $.

rate=annual interest rate in percent.

years=number of years.

Output arguments:

mpay=monthly payment, tpay=total payment.

A function file can include additional comment lines in the function body. These
lines are ignored by the help command.

7.2.4 Function Body

The  function  body  contains  the  computer  program  (code)  that  actually  per-
forms the computations. The code can use all MATLAB programming features.
This includes calculations, assignments, any built-in or user-defined functions,
flow control (conditional statements and loops) as explained in Chapter 6, com-
ments, blank lines, and interactive input and output.

7.3 LOCAL AND GLOBAL VARIABLES

All the variables in a function file are local (the input and output arguments and
any variables that are assigned values within the function file). This means that
the  variables  are  defined  and  recognized  only  inside  the  function  file.  When  a

