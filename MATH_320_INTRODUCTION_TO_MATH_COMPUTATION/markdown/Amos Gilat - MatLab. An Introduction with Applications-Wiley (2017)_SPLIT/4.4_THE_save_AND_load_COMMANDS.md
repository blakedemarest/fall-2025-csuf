4.4  The save and load Commands

111

4.4 THE save AND load COMMANDS

The save and load commands are most useful for saving and retrieving data
for use in MATLAB. The save command can be used for saving the variables
that are currently in the workspace, and the load command is used for retriev-
ing variables that have been previously saved, to the workspace. The workspace
can  be  saved  when  MATLAB  is  used  in  one  type  of  platform  (e.g.,  PC),  and
retrieved for use in MATLAB in another platform (e.g., Mac). The save and
load commands can also be used for exchanging data with applications outside
MATLAB.  Additional  commands  that  can  be  used  for  this  purpose  are  pre-
sented in Section 4.5.

4.4.1 The save Command

The save command is used for saving the variables (all or some of them) that
are stored in the workspace. The two simplest forms of the save command are:

save file_name

and

save(‘file_name’)

When either one of these commands is executed, all of the variables currently in
the workspace are saved in a file named file_name.mat that is created in the
current directory. In mat files, which are written in a binary format, each vari-
able preserves its name, type, size, and value. These files cannot be read by other
applications. The save command can also be used for saving only some of the
variables that are in the workspace. For example, to save two variables named
var1 and var2, the command is:

save file_name var1 var2

or

save(‘file_name’,‘var1’,‘var2’)

The  save  command  can  also  be  used  for  saving  in  ASCII  format,  which
can be read by applications outside MATLAB. Saving in ASCII format is done
by  adding  the  argument  -ascii  in  the  command  (for  example,  save
file_name -ascii). In the ASCII format the variable’s name, type, and size
are not preserved. The data is saved as characters separated by spaces but with-
out the variable names. For example, the following shows how two variables (a
 matrix) are defined in the Command Window and then

 vector and a

saved in ASCII format to a file named DatSavAsci:

>> V=[3 16 -4 7.3];

Create a

 vector V.

>> A=[6 -2.1 15.5; -6.1 8 11];

>> save -ascii DatSavAsci

Create a
Save variables to a file named DatSavAsci.

 matrix A.

112

Chapter 4: Using Script Files and Managing Data

Once saved, the file can be opened by any application that can read ASCII files.
For example, Figure 4-5 shows the data when the file is opened with Notepad.

Figure 4-5: Data saved in ASCII format.

Note that the file does not include the names of the variables, just the numerical
values of the variables (first A and then V) are listed.

4.4.2 The load Command

The load command can be used for retrieving variables that were saved with
the save command back to the workspace, and for importing data that was cre-
ated  with  other  applications  and  saved  in  ASCII  format  or  in  text  (.txt)  files.
Variables that were saved with the save command in .mat files can be retrieved
with the command:

load file_name

or

load(‘file_name’)

When the command is executed, all the variables in the file (with the name, type,
size, and values as were saved) are added (loaded back) to the workspace. If the
workspace  already  has  a  variable  with  the  same  name  as  a  variable  that  is
retrieved  with  the  load command, then the  variable  that  is  retrieved  replaces
the existing variable. The load command can also be used for retrieving only
some of the variables that are in the saved .mat file. For example, to retrieve two
variables named var1 and var2, the command is:

load file_name var1 var2

or

load(‘file_name’,‘var1’,‘var2’)

The load command can also be used to import data that is saved in ASCII
or text (.txt) to the workspace. This is possible, however, only if the data in the
file is in the form of a variable in MATLAB. Thus, the file can have one number
(scalar), a row or a column of numbers (vector), or rows with the same number
of numbers in each (matrix). For example, the data shown in Figure 4-5 cannot
be loaded with the load command (even though it was saved in ASCII format
with the save command), because the number of elements is not the same in all
rows. (Recall that this file was created by saving two different variables.)

4.4  The save and load Commands

113

When data is loaded from an ASCII or text file into the workspace, it has to
be assigned to a variable name. Data in ASCII format can be loaded with either
of the following two forms of the load command:

load file_name

or

VarName=load(‘file_name’)

If the data is in a text file, the extension .txt has to be added to the file name. The
form of the load command is then:

load file_name.txt

or

VarName=load(‘file_name.txt’)

In the first form of the command the data is assigned to a variable that has the
name  of  the  file.  In  the  second  form  the  data  is  assigned  to  a  variable  named
VarName.

For  example,  the  data  shown  in  Figure  4-6  (a

  matrix)  is  typed  in

Notepad, and then saved as DataFromText.txt.

Figure 4-6: Data saved as .txt file.

Next, two forms of the load command are used to import the data in the
text  file  to  the  Workspace  of  MATLAB.  In  the  first  command  the  data  is
assigned to a variable named DfT. In the second command the data is automat-
ically assigned to a variable named DataFromText, which is the name of the
text file where the data was saved.

>> DfT=load('DataFromText.txt')

DfT =
   56.0000   -4.2000
    3.0000    7.5000
   -1.6000  198.0000

>> load DataFromText.txt

>> DataFromText
DataFromText =
   56.0000   -4.2000
    3.0000    7.5000
   -1.6000  198.0000

Load the file
DataFromText and
assign the loaded data to
the variable Dft.

Use the load command with
the file DataFromText.

The data is assigned to a vari-
able named DataFromText.

Importing data to (or exporting from) other applications can also be done, with
MATLAB commands that are presented in the next section.

