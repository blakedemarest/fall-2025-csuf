11.8 Numerical Calculations with Symbolic Expressions

371

11.8 NUMERICAL CALCULATIONS WITH SYMBOLIC EXPRESSIONS

Once a symbolic expression is created by the user or by the output from any of
MATLAB’s symbolic operations, there may be a need to substitute numbers for
the symbolic variables and calculate the numerical value of the expression. This
can  be  done  by  using  the  subs  command.  The  subs  command  has  several
forms and can be used in different ways. The following describes several forms
that are easy to use and are suitable for most applications. In one form, the vari-
able (or variables) for which a numerical value is substituted and the numerical
value itself are typed inside the subs command. In another form, each variable
is  assigned  a  numerical  value  in  a  separate  command  and  then  the  variable  is
substituted in the expression.

The subs command in which the variable and its value are typed inside the
command  is  shown  first.  Two  cases  are  presented—one  for  substituting  a
numerical value (or values) for one symbolic variable, and the other for substi-
tuting numerical values for two or more symbolic variables.

Substituting a numerical value for one symbolic variable:

A numerical value (or values) can be substituted for one symbolic variable when
a symbolic expression has one or more symbolic variables. In this case the subs
command has the form:

R = subs(S,var,number)

The name of the
symbolic expression.

The variable for
which a numerical
value is substituted.

The numerical value
(or values) assigned
to var.

• number can be one number (a scalar), or an array with many elements (a vector

or a matrix).

• The value of S is calculated for each value of number and the result is assigned

to R, which will have the same size as number (scalar, vector, or matrix).

•

If S has one variable, the output R is numerical. If S has several variables and a
numerical value is substituted for only one of them, the output R is a symbolic
expression.

An example with an expression that includes one symbolic variable is:

>> syms x

Define x as a symbolic variable.

>> S=0.8*x^3+4*exp(0.5*x)

S =
4*exp(x/2) + (4*x^3)/5

Assign to S the expression
0.8x3

4e 0.5x

+

.

>> SD=diff(S)

Use the diff(S)command to differentiate S.

372

Chapter 11: Symbolic Math

SD =
2*exp(x/2)+(12*x^2)/5)

The answer

 is assigned to SD.

>> subs(SD, x, 2)

Use the subs command to substitute

x

2=

 in SD.

ans =
   15.0366

>> SDU=subs(SD, x, [2:0.5:4])

The value of SD is displayed.

Use the subs command to substitute
x = [2, 2.5, 3, 3.5, 4] (vector) in SD.

SDU =
   15.0366  21.9807  30.5634  40.9092  53.1781

The values of SD (assigned to SDU) for each value of x are displayed in a vector.

In  the  last  example,  notice  that  when  the  numerical  value  of  the  symbolic
expression  is  calculated,  the  answer  is  numerical  (the  display  is  indented).  An
example of substituting numerical values for one symbolic variable in an expres-
sion that has several symbolic variables is:

>> syms a g t v

>> Y=v^2*exp(a*t)/g

Y =
v^2*exp(a*t)/g

>> subs(Y,t,2)

ans =
v^2*exp(2*a)/g

>> Yt=subs(Y,t,[2:4])

Define a, g, t, and v as symbolic variables.

Create the symbolic expression

 and assign it to Y.

Use the subs command to substitute

t

2=

 in SD.

The answer

 is displayed.

Use the subs command to substitute
t = [2, 3, 4] (vector) in Y.

Yt =
[ v^2*exp(2*a)/g, v^2*exp(3*a)/g, v^2*exp(4*a)/g]

The answer is a vector with elements of symbolic expressions for each value of t.

Substituting a numerical value for two or more symbolic variables:

A numerical value (or values) can be substituted for two or more symbolic vari-
ables when a symbolic expression has several symbolic variables. In this case the
subs command has the following form (it is shown for two variables, but it can
be used in the same form for more):

R = subs(S,{var1,var2},{number1,number2})

The name of the
symbolic expression.

The variables for
which numerical val-
ues are substituted.

The numerical value
(or values) assigned to
var1 and var2.

11.8 Numerical Calculations with Symbolic Expressions

373

• The variables var1 and var2 are the variables in the expression S for which the
numerical values are substituted. The variables are typed as a cell array (inside
curly braces { }). A cell array is an array of cells where each cell can be an array
of numbers or text.

• The numbers number1,number2 substituted for the variables are also typed
as a cell array (inside curly braces { }). The numbers can be scalars, vectors, or
matrices. The first cell in the numbers cell array (number1) is substituted for
the variable that is in the first cell of the variable cell array (var1), and so on.

•

•

•

If all the numbers that are substituted for variables are scalars, the outcome will
be one number or one expression (if some of the variables are still symbolic).

If, for at least one variable, the substituted numbers are an array, the mathemati-
cal operations are executed element-by-element and the outcome is an array of
numbers or expressions. It should be emphasized that the calculations are per-
formed element-by-element even though the expression S is not typed in the ele-
ment-by-element  notation.  This  also  means  that  all  the  arrays  substituted  for
different variables must be of the same size.

It is possible to substitute arrays (of the same size) for some of the variables and
scalars for other variables. In this case, in order to carry out element-by-element
operations, MATLAB expands the scalars (array of 1s times the scalar) to pro-
duce an array result.

 The substitution of numerical values for two or more variables is demonstrated
in the next examples.

>> syms a b c e x

>> S=a*x^e+b*x+c

S =
a*x^e+b*x+c

Define a, b, c, e, and x as symbolic variables.

Create the symbolic expression
axe

 and assigned it to S.

bx

+

+

c

>> subs(S,{a,b,c,e,x},{5,4,-20,2,3})

Cell array.

Cell array.

Substitute  in  S  scalars  for
all the symbolic variables.

ans =
   37

>> T=subs(S,{a,b,c},{6,5,7})

T =
5*x+ 6*x^e+7

The value of S is displayed.

Substitute  in  S  scalars  for  the
symbolic variables a, b, and c.

The result is an expression with the variables x and

>> R=subs(S,{b,c,e},{[2 4 6],9,[1 3 5]})

Substitute in S a scalar for c,
and vectors for b and e.

R =
[  2*x+a*x+9, a*x^3+4*x+9, a*x^5+6*x+9]

The result is a vector of
symbolic expressions.

>> W=subs(S,{a,b,c,e,x},{[4 2 0],[2 4 6],[2 2 2],[1 3 5],[3 2 1]})
Substitute in S vectors for all the variables.

374

Chapter 11: Symbolic Math

W =
    20    26     8

The result is a vector of numerical values.

A second method for substituting numerical values for symbolic variables in
a  symbolic  expression  is  to  first  assign  numerical  values  to  the  variables  and
then  use  the  subs  command.  In  this  method,  once  the  symbolic  expression
exists (at which point the variables in the expression are symbolic) the variables
are assigned numerical values. Then the subs command is used in the form:

R = subs(S)

The name of the
symbolic expression.

Once  the  symbolic  variables  are  redefined  as  numerical  variables  they  can  no
longer be used as symbolic. The method is demonstrated in the following exam-
ples.

>> syms A c m x y

Define A, c, m, x, and y as symbolic variables.

>> S=A*cos(m*x)+c*y

S =
c*y+A*cos(m*x)

Create the symbolic expression
A

 and assign it to S.

cy+

mx

cos

>> A=10; m=0.5; c=3;

Assign numerical values to variables A, m, and c.

>> subs(S)

ans =
3*y + 10*cos(x/2)

Use the subs command with the expression S.

The  numerical  values  of  variables
A, m, and c are substituted in S.

>> x=linspace(0,2*pi,4);

Assign numerical values (vector) to variable x.

>> T = subs(S)

Use the subs command with the expression S.

T =
[ 3*y+10, 3*y+5, 3*y-5, 3*y-10]

The  numerical  values  of  variables A,
m, c, and x are substituted. The result
is a vector of symbolic expressions.

11.9 EXAMPLES OF MATLAB APPLICATIONS

Sample Problem 11-2: Firing angle of a projectile

A projectile is fired at a speed
of  210  m/s  and  an  angle
.
The  projectile’s  intended  tar-
get  is  2,600  m  away  and  350
m above the firing point.
(a) Derive  the  equation  that
has to be solved in order
to determine the angle

 such that the projectile will hit the target.

