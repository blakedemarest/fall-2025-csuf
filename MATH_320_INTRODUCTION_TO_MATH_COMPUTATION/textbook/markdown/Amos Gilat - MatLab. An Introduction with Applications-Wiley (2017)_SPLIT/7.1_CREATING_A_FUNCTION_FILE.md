222

Chapter 7: User-Defined Functions and Function Files

A very simple example of a user-defined function is a function that calcu-
lates the maximum height that a ball reaches when thrown upward with a cer-

tain velocity. For a velocity

v0

, the maximum height

hmax

 is given by

,

where g is the gravitational acceleration. In function form this can be written as

. In this case the input to the function is the velocity (a number),

and the output is the maximum height (a number). For example, in SI units (g =
9.81 m/s2) if the input is 15 m/s, the output is 11.47 m.

15 m/s

Function File

11.47 m

In addition to being used as math functions, user-defined functions can be
used  as  subprograms  in  large  programs.  In  this  way  large  computer  programs
can be made up of smaller “building blocks” that can be tested independently.
Function  files  are  similar  to  subroutines  in  Basic  and  Fortran,  procedures  in
Pascal, and functions in C.

The  fundamentals  of  user-defined  functions  are  explained  in  Sections  7.1
through  7.7.  In  addition  to  user-defined  functions  that  are  saved  in  separate
function files and called for use in a computer program, MATLAB provides an
option to define and use a user-defined math function within a computer pro-
gram (not in a separate file). This can be done by using anonymous function,
which is presented in Section 7.8. There are built-in and user-defined functions
that have to be supplied with other functions when they are called. These func-
tions, which in MATLAB are called function functions, are introduced in Sec-
tion 7.9. The last two sections cover subfunctions and nested functions. Both are
methods for incorporating two or more user-defined functions in a single func-
tion file.

7.1 CREATING A FUNCTION FILE

Function  files  are  created  and  edited,  like  script  files,  in  the  Editor/Debugger
Window. This window is opened from the Command Window. In the Toolstrip
select  New,  then  select  Function.  Once  the  Editor/Debugger  Window  opens,  it
looks like that shown in Figure 7-1. The editor contains several pre-typed lines
that outline the structure of a function file. The first line is the function defini-
tion line, which is followed by comments the describe the function. Next comes
the program (the empty lines 4 and 5 in Figure 7-1), and the last line is an end
statement,  which  is  optional.  The  structure  of  a  function  file  is  described  in
detail in the next section.

Note: The Editor/Debugger Window can also be opened (as was described
in Chapter 1) by clicking on the New Script icon in the Toolstrip, or by clicking
New  in  the  Toolstrip  and  then  selecting  Script  from  the  menu  that  open.  The

